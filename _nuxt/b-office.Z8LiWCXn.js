import{u as h,_,c as i,a as e,t as u,F as f,r as p,p as D,e as b,o as r}from"./entry.Bnbf0YdV.js";import{d as B,c as E}from"./dayjs.min.dKIeKDoU.js";let C;const g={setup(){const l=h(),o=l.public.supabaseUrl,t=l.public.supabaseKey;C=E(o,t)},mounted(){this.getData()},data(){return{data:[],man:0,woman:0,total:0,mealEnable:0,mealNotEnable:0,mealUndetermined:0}},methods:{dayjs:B,async getData(){const{data:l,error:o}=await C.from("memo").select().order("created_at",{ascending:!1});o?console.error(o):(this.data=l,this.man=l.filter(t=>t.friend==="신랑측").reduce((t,n)=>t+n.cnt,0),this.woman=l.filter(t=>t.friend==="신부측").reduce((t,n)=>t+n.cnt,0),this.total=this.man+this.woman,this.mealEnable=l.filter(t=>t.meal==="예정").reduce((t,n)=>t+n.cnt,0),this.mealNotEnable=l.filter(t=>t.meal==="안함").reduce((t,n)=>t+n.cnt,0),this.mealUndetermined=l.filter(t=>t.meal==="미정").reduce((t,n)=>t+n.cnt,0))}}},c=l=>(D("data-v-7f3d7c18"),l=l(),b(),l),y={class:"container"},w=c(()=>e("h1",{class:"title"},"참석 의사 확인",-1)),A={class:"grid"},v={class:"card"},U=c(()=>e("h6",null,"참석 인원",-1)),F={class:"card"},I=c(()=>e("h6",null,"식사 여부",-1)),N=c(()=>e("h2",{class:"subtitle"},"상세 정보",-1)),S={class:"table"},Y=c(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"구분"),e("th",null,"성함"),e("th",null,"참석인원"),e("th",null,"동행인"),e("th",null,"식사여부"),e("th",null,"작성시각")])],-1));function k(l,o,t,n,s,m){return r(),i("section",y,[w,e("article",A,[e("div",v,[U,e("ul",null,[e("li",null,"전체: "+u(s.total),1),e("li",null,"신랑측: "+u(s.man),1),e("li",null,"신부측: "+u(s.woman),1)])]),e("div",F,[I,e("ul",null,[e("li",null,"예정: "+u(s.mealEnable),1),e("li",null,"미정: "+u(s.mealUndetermined),1),e("li",null,"안함: "+u(s.mealNotEnable),1)])])]),N,e("table",S,[Y,e("tbody",null,[(r(!0),i(f,null,p(s.data,(a,d)=>(r(),i("tr",{key:`item-${d}`},[e("td",null,u(d+1),1),e("td",null,u(a.friend),1),e("td",null,u(a.name),1),e("td",null,u(a.cnt)+"명",1),e("td",null,u(a.other),1),e("td",null,u(a.meal),1),e("td",null,u(m.dayjs(a.created_at).format("YYYY-MM-DD HH:mm")),1)]))),128))])])])}const H=_(g,[["render",k],["__scopeId","data-v-7f3d7c18"]]);export{H as default};
